services:
  - type: web
    name: thestarfeel-ai-consultation
    env: node
    plan: starter
    rootDir: server

    buildCommand: npm install
    startCommand: npm start

    autoDeploy: true
    healthCheckPath: /health

    envVars:
      - key: OPENAI_API_KEY
        value: "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"

      - key: TEXT_MODEL
        value: gpt-4.1-mini

      - key: IMAGE_MODEL
        value: gpt-image-1

      - key: IMAGE_SIZE
        value: 1024x1024

      - key: IMAGE_QUALITY
        value: high

      - key: STORE_CONSULTATIONS
        value: "true"

      - key: STORE_IMAGES
        value: "false"

      - key: ALLOWED_ORIGINS
        value: https://thestarfeel-3.myshopify.com
